<div class="products-container">
  <mat-card *ngFor="let product of products; let i = index" class="card">
    <mat-card-header>
      <mat-card-title>
        {{product.name}}
      </mat-card-title>
      <mat-card-subtitle>
        {{product.category}}
      </mat-card-subtitle>
    </mat-card-header>
    <img class="product-image" mat-card-image [src]="product.image" alt="Photo of {{product.name}}">
    <mat-card-content>
      <p>{{product.description}}</p>
      <p>Price: {{product.price | currency}}</p>
      <p *ngIf="product.promotion">
        Promotion: {{product.promotion}}
      </p>
      <p *ngIf="productQuantityOnCart(product.id) > 0">
        Items on Shopping Cart: {{productQuantityOnCart(product.id)}}
      </p>
    </mat-card-content>
    <mat-card-actions class="card-actions-container">
      <button *ngIf="productQuantityOnCart(product.id)" (click)="shoppingCartStore.removeProduct(product.id)" mat-button
        attr.data-cy="remove-item-{{i}}">
        Remove from shopping cart
      </button>
      <button (click)="shoppingCartStore.addProduct(product)" mat-button attr.data-cy="add-item-{{i}}">
        Add to shopping cart
      </button>
    </mat-card-actions>
  </mat-card>
</div>